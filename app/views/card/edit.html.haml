=render "items/header"

.mypage
  .mypage__content
    = render "items/sidebar"
    .l-content
      %section.l-chapter-container
        %h2.l-chapter-head クレジットカード情報入力
        = form_for @card, url: card_path, method: :post, class: "registration-form l-single-inner", id: "add-card-form" do |f|
          %input{:name => "__csrf_value", :type => "hidden", :value => "5d77ee693bbaa6662d6cf9076b498a5f4e5430dcc81813cfe8dbccf9671162af0a2d6b1167c187221bcbef53cbaecf1d5e8194e06c75a819d7c73a8f5592cb9f7"}/
          .l-single-content
            .form-group
              = f.label :name, "カード番号"
              -# %label{:for => "payment_card_no"} カード番号
              = f.label :name, "必須", class: "form-require"
              -# %span.form-require 必須
              = f.text_field :card_number, placeholder: "半角数字のみ", maxlength: "19",  type: "text", value: "",  class: "input-default", id: "payment_card_no"
              -# %input#payment_card_no.input-default{"data-input-type" => "card", :maxlength => "19", :placeholder => "半角数字のみ", :type => "text", :value => ""}/
              %ul#card-no-error-wrapper.has-error-text
              %ul.signup-card-list
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/visa.svg?615905397", :width => "49"}/
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/master-card.svg?615905397", :width => "34"}/
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/saison-card.svg?615905397", :width => "30"}/
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/jcb.svg?615905397", :width => "32"}/
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/american_express.svg?615905397", :width => "21"}/
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/dinersclub.svg?615905397", :width => "32"}/
                %li
                  %img{:alt => "", :height => "20", :src => "//www-mercari-jp.akamaized.net/assets/img/card/discover.svg?615905397", :width => "32"}/
            .form-group.signup-form-expire
              = f.label :name, "有効期限"
              -# %label{:for => "payment_card_expire"} 有効期限
              = f.label :name, "必須", class: "form-require"
              -# %span.form-require 必須
              %br/
              .select-wrap.half
                = f.select :exp_month, [[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[8,8],[9,9],[10,10],[11,11],[12,12]],{} , class: "select-default"
                -# %select#payment_card_expire_mm.select-default
                -#   %option{:value => "01"} 01
                -#   %option{:value => "02"} 02
                -#   %option{:value => "03"} 03
                -#   %option{:value => "04"} 04
                -#   %option{:value => "05"} 05
                -#   %option{:value => "06"} 06
                -#   %option{:value => "07"} 07
                -#   %option{:value => "08"} 08
                -#   %option{:value => "09"} 09
                -#   %option{:value => "10"} 10
                -#   %option{:value => "11"} 11
                -#   %option{:value => "12"} 12
                %i.fas.fa-angle-down
                %span 月
              .select-wrap.half
                = f.select :exp_year, [[19,2019],[20,2020],[21,2021],[22,2022],[23,2023],[24,2024],[25,2025],[26,2026],[27,2027],[28,2028],[29,2029]],{} , class: "select-default"
                -# %select#payment_card_expire_yy.select-default
                -#   %option{:value => "19"} 19
                -#   %option{:value => "20"} 20
                -#   %option{:value => "21"} 21
                -#   %option{:value => "22"} 22
                -#   %option{:value => "23"} 23
                -#   %option{:value => "24"} 24
                -#   %option{:value => "25"} 25
                -#   %option{:value => "26"} 26
                -#   %option{:value => "27"} 27
                -#   %option{:value => "28"} 28
                -#   %option{:value => "29"} 29
                %i.fas.fa-angle-down
                %span 年
              %ul#expire-mm-error-wrapper.has-error-text
              %ul#expire-yy-error-wrapper.has-error-text
            .form-group
              = f.label :name, "セキュリティコード"
              -# %label{:for => "payment_card_security_code"} セキュリティコード
              = f.label :name, "必須", class: "form-require"
              -# %span.form-require 必須
              = f.text_field :cvc, type: "number", placeholder: "カード背面４桁もしくは３桁の番号", maxlength: "4", class: "input-default", id: "payment_card_security_code"
              -# %input#payment_card_security_code.input-default{:placeholder => "カード背面4桁もしくは3桁の番号", :type => "number", :value => ""}/
              %ul#security-code-error-wrapper.has-error-text
              .signup-seqcode
                .signup-seqcode-text{"data-js" => "show-tips-toggle"}
                  %span.form-question> ?
                  カード裏面の番号とは？
                -# .signup-seqcode-info{"data-js" => "show-tips-content"}
                -#   カードの裏面をご参照ください。
                -#   %br/
                -#   %img{:alt => "", :src => "//www-mercari-jp.akamaized.net/assets/img/signup/seq-card.png?615905397", :width => "240"}/
            %input#user_id{:name => "user_id", :type => "hidden", :value => "174521178"}/
            %input#encrypted_card_data{:name => "encrypted_card_data", :type => "hidden"}/
            %p#primary-error.has-error-text
            %input{:name => "after_save_callback", :type => "hidden", :value => ""}/
            =f.submit "追加する", class: "btn-default btn-red"
            -# %button#submit-button.btn-default.btn-red{:type => "button"} 追加する
          %script{:async => "", :src => "https://p01.mul-pay.jp/ext/js/token.js"}
          %script{:async => "", :src => "//www-mercari-jp.akamaized.net/assets/js/get_gmopg_card_token.js?3587083848"}

=render "items/footer"